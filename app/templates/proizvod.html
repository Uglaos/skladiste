{% extends "base.html" %}

{% block content %}
<div class="container pt-2">
    <div class="row">
        <div class="col-md-4">
            <h5>NAZIV PROIZVODA</h5>
            <p>{{ proizvod.name }}</p>
        </div>
        <div class="col-md-4">
            <h5>ZEMLJA PODRIJETLA</h5>
            <p>{{ proizvod.zemlja_podrijetla }}</p>
        </div>
        <div class="col-md-4">
            <h5>KOLICINA</h5>
            <p>{{ proizvod.kolicina }}</p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <h5>Unos robe:</h5>
            <form action="" method="post" novalidate="">
                {{ form_ulaz.hidden_tag() }}
                <p>
                    {{ form_ulaz.promijenjena_kolicina.label }}<br>
                    {{ form_ulaz.promijenjena_kolicina(size=32) }}
                    {% for error in form_ulaz.promijenjena_kolicina.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>
                    {{ form_ulaz.oib.label }}<br>
                    {{ form_ulaz.oib(size=32) }}
                    {% for error in form_ulaz.oib.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>{{ form_ulaz.submit1() }}</p>
            </form>
        </div>
        <div class="col-md-6">
            <h5>Izlaz robe:</h5>
            <form action="" method="post" novalidate="">
                {{ form_izlaz.csrf_token }}
                <p>
                    {{ form_izlaz.promijenjena_kolicina.label }}<br>
                    {{ form_izlaz.promijenjena_kolicina(size=32) }}
                    {{ form_izlaz.proizvod_id(value=proizvod.id) }}
                    {% for error in form_izlaz.promijenjena_kolicina.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>
                    {{ form_izlaz.oib.label }}<br>
                    {{ form_izlaz.oib(size=32) }}
                    {% for error in form_izlaz.oib.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>{{ form_izlaz.submit2() }}</p>
            </form>
        </div>
    </div>

    <hr>
    <h5>Povijest evidencije:</h5>
    <div class="row">
        <div class="col-xl-6">
            <h2>Evidencija unosa</h2>
        <table class="table table-striped">
        <tr>
            <th>Proizvod</th> 
            <th>Kolicina</th>
            <th>Naziv tvrtke</th>
            <th>OIB</th>
            <th>Datum unosa</th>
            <th>Korisnik</th>
        </tr>
        {% for evidencija in evidencijaUlaz %}
        <tr>
            <td>{{ evidencija.proizvod.name }}</td>
            <td>{{ evidencija.promijenjena_kolicina }}</td>
            <td>{{ evidencija.tvrtka.name }}</td>
            <td>{{ evidencija.tvrtka.oib }}</td>
            <td>{{ evidencija.datum_unosa.strftime('%B %d %Y - %H:%M:%S') }}</td>
            <td>{{ evidencija.user.username }}</td>
        </tr>
        {% endfor %}
        </table> 
        </div>
        <div class="col-xl-6">
            <h2>Evidencija izdavanja</h2>
        <table class="table table-striped">
        <tr>
            <th>Proizvod</th> 
            <th>Kolicina</th>
            <th>Naziv tvrtke</th>
            <th>OIB</th>
            <th>Datum unosa</th>
            <th>Korisnik</th>
        </tr>
        {% for evidencija in evidencijaIzlaz %}
        <tr>
            <td>{{ evidencija.proizvod.name }}</td>
            <td>{{ evidencija.promijenjena_kolicina }}</td>
            <td>{{ evidencija.tvrtka.name }}</td>
            <td>{{ evidencija.tvrtka.oib }}</td>
            <td>{{ evidencija.datum_unosa.strftime('%B %d %Y - %H:%M:%S') }}</td>
            <td>{{ evidencija.user.username }}</td>
        </tr>
        {% endfor %}
        </table> 
        </div>
    </div>
</div>
{% endblock %}