{% extends "base.html" %}

{% block content %}
    <table>
        <tr>
            <th>NAZIV PROIZVODA</th>
            <th>ZEMLJA PODRIJETLA</th>
            <th>KOLICINA</th>
        </tr>
        <tr>
            <td>{{ proizvod.name }}</td>
            <td>{{ proizvod.zemlja_podrijetla }}</td>
            <td>{{ proizvod.kolicina }}</td>
        </tr>
        
    </table>
    <hr>

    <div class="row">
        <div class="col-md-6">
            <h1>Unos robe:</h1>
            <form action="" method="post" novalidate="">
                {{ form_ulaz.hidden_tag() }}
                <p>
                    {{ form_ulaz.promijenjena_kolicina.label }}<br>
                    {{ form_ulaz.promijenjena_kolicina(size=32) }}
                    {% for error in form_ulaz.promijenjena_kolicina.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>
                    {{ form_ulaz.oib.label }}<br>
                    {{ form_ulaz.oib(size=32) }}
                    {% for error in form_ulaz.oib.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>{{ form_ulaz.submit1() }}</p>
            </form>
        </div>
        <div class="col-md-6">
            <h1>Izlaz robe:</h1>
            <form action="" method="post" novalidate="">
                {{ form_izlaz.hidden_tag() }}
                <p>
                    {{ form_izlaz.promijenjena_kolicina.label }}<br>
                    {{ form_izlaz.promijenjena_kolicina(size=32) }}
                    {% for error in form_izlaz.promijenjena_kolicina.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>
                    {{ form_izlaz.oib.label }}<br>
                    {{ form_izlaz.oib(size=32) }}
                    {% for error in form_izlaz.oib.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                    {% endfor %}
                </p>
                <p>{{ form_izlaz.submit2() }}</p>
            </form>
        </div>
    </div>

    <hr>
    <h1>Povijest evidencije:</h1>
    <div class="row">
        <div class="col-md-6">
            <h2>Evidencija unosa</h2>
        <table class="table table-striped">
        <tr>
            <th>Proizvod</th> 
            <th>Kolicina</th>
            <th>Naziv tvrtke</th>
            <th>OIB</th>
            <th>Datum unosa</th>
            <th>Korisnik</th>
        </tr>
        {% for evidencija in evidencija_unosa %}
        <tr>
            <td>{{ evidencija.proizvod.name }}</td>
            <td>{{ evidencija.promijenjena_kolicina }}</td>
            <td>{{ evidencija.dobavljac.name }}</td>
            <td>{{ evidencija.dobavljac.oib }}</td>
            <td>{{ evidencija.datum_unosa.strftime('%B %d %Y - %H:%M:%S') }}</td>
            <td>{{ evidencija.user.username }}</td>
        </tr>
        {% endfor %}
        </table> 
        </div>
        <div class="col-md-6">
            <h2>Evidencija izdavanja</h2>
        <table class="table table-striped">
        <tr>
            <th>Proizvod</th> 
            <th>Kolicina</th>
            <th>Naziv tvrtke</th>
            <th>OIB</th>
            <th>Datum unosa</th>
            <th>Korisnik</th>
        </tr>
        {% for evidencija in evidencija_izdavanja %}
        <tr>
            <td>{{ evidencija.proizvod.name }}</td>
            <td>{{ evidencija.promijenjena_kolicina }}</td>
            <td>{{ evidencija.kupac.name }}</td>
            <td>{{ evidencija.kupac.oib }}</td>
            <td>{{ evidencija.datum_unosa.strftime('%B %d %Y - %H:%M:%S') }}</td>
            <td>{{ evidencija.user.username }}</td>
        </tr>
        {% endfor %}
        </table> 
        </div>
    </div>
{% endblock %}